# atlas-hcl-gen-go configuration
#
# This file defines code generation options for mapping Atlas HCL schema
# into Go structs. Fields below include short explanations and accepted values.
#
# Notes
# - This config file defines how code is generated.
# - Only 'dialect', 'package', and 'tag' are required at minimum.

## dialect: target database dialect used to evaluate Atlas HCL and drive type mapping
## accepted: mysql | postgres | sqlite
dialect: postgres

## package: Go package name for the generated file
package: model

## tag: struct tag key used for column names (e.g., `db:"col"`)
tag: db

## null_policy: nullability strategy for columns
## accepted: smart | pointer | sqlnull
## - smart: NOT NULL => T, NULLABLE => *T (default)
## - pointer: always *T (for all columns)
## - sqlnull: use sql.Null* for basic types (string/bool/numeric/time)
null_policy: smart

## decimal: Go type mapping for DECIMAL/NUMERIC
## accepted: string | big.Rat
## - string: textual, lossless representation (default)
## - big.Rat: math/big.Rat for arithmetic (optional future support)
decimal: string

## uuid: Go type mapping for UUID
## accepted: string | bytes16
## - string: human-readable form (default)
## - bytes16: [16]byte (optional future support)
uuid: string

## json: Go type mapping for JSON/JSONB
## accepted: raw | bytes | string
## - raw: json.RawMessage (alias of []byte) (default)
## - bytes: []byte
## - string: string
json: raw

## strict_types: error on unsupported/ambiguous database types
## accepted: true | false (default: true)
## Note: When false, unknown types fall back to string.
strict_types: true

## mysql_tinyint1_as_bool: map MySQL TINYINT(1) to bool (instead of int8)
## accepted: true | false (default: false)
## Note: This is an approximation when width metadata is unavailable.
mysql_tinyint1_as_bool: false

## enum: how to map ENUM types
## accepted: string | named
## - string: use string type (default)
## - named: generate a named Go type per enum column and const values
enum: string

## split_per_table: emit one file per table
## accepted: true | false (default: false)
## When true, -o is treated as a directory; each table generates
## <snake_table>.go in that directory. Named enums (enum: named)
## are emitted in the table file that declares the enum column(s).
split_per_table: false
